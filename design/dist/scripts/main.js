"use strict";var drawMap=function(t,e,r,a,n,i){var s=$(r),c=s.width(),o=s.height(),d=d3.geoCentroid(t),u=[c/2,o/2],p=d3.select(r).append("svg").attr("width",c).attr("height",o),h=d3.geoMercator().scale(75e3).center(d).precision(.1).translate(u),l=d3.geoPath().projection(h);p.append("g").selectAll("path").data(t.features).enter().append("path").attr("fill",function(t){return"white"}).attr("d",l).attr("stroke","grey").attr("stroke-width",.5).attr("class",function(t){return t.id}).append("title").text(function(t){return t.properties.borough}),p.selectAll("circle").data(e).enter().append("circle").attr("r","0.5px").attr("transform",function(t){return"translate("+h([t[n],t[i]])+")"}).attr("fill",function(t){return a})},dataViz=function(t,e,r,a,n,i){if(t)throw t;var n=_.orderBy(_.filter(n,function(t){return 1===moment(new Date(t["Date/Time"])).date()}),["Date/Time"],["asc"]);drawMap(e,n,"#nyc-uber","red","Lon","Lat")};d3.queue().defer(d3.json,"https://raw.githubusercontent.com/se2/cis602-02-project/master/data/nyc.geo.json").defer(d3.csv,"https://media.githubusercontent.com/media/se2/cis602-02-project/master/data/fhv_bases.csv").defer(d3.csv,"https://media.githubusercontent.com/media/se2/cis602-02-project/master/data/taxi-zone-lookup-with-ntacode.csv").defer(d3.csv,"https://media.githubusercontent.com/media/se2/cis602-02-project/master/data/uber/uber-sep14.csv").await(dataViz);