"use strict";var uberData={apr14:"https://raw.githubusercontent.com/fivethirtyeight/uber-tlc-foil-response/master/uber-trip-data/uber-raw-data-apr14.csv",may14:"https://raw.githubusercontent.com/fivethirtyeight/uber-tlc-foil-response/master/uber-trip-data/uber-raw-data-may14.csv",jun14:"https://raw.githubusercontent.com/fivethirtyeight/uber-tlc-foil-response/master/uber-trip-data/uber-raw-data-jun14.csv",jul14:"https://raw.githubusercontent.com/fivethirtyeight/uber-tlc-foil-response/master/uber-trip-data/uber-raw-data-jul14.csv",aug14:"https://raw.githubusercontent.com/fivethirtyeight/uber-tlc-foil-response/master/uber-trip-data/uber-raw-data-aug14.csv",sep14:"https://raw.githubusercontent.com/fivethirtyeight/uber-tlc-foil-response/master/uber-trip-data/uber-raw-data-sep14.csv"},drawMap=function(t,e,r,a,i,s){var n=$(r),o=n.width(),c=n.height(),u=d3.geoCentroid(t),d=[o/2,c/2],p=d3.select(r).append("svg").attr("width",o).attr("height",c),h=d3.geoMercator().scale(125e3).center(u).precision(.1).translate(d),f=d3.geoPath().projection(h);p.append("g").selectAll("path").data(t.features).enter().append("path").attr("fill",function(t){return"white"}).attr("d",f).attr("stroke","grey").attr("stroke-width",.5).attr("class",function(t){return t.id}).append("title").text(function(t){return t.properties.borough}),p.selectAll("circle").data(e).enter().append("circle").attr("r","0.5px").attr("transform",function(t){return"translate("+h([t[i],t[s]])+")"}).attr("fill",a)},dataViz=function(t,e,r,a,i,s){if(t)throw t;s=_.orderBy(_.filter(s,function(t){return 8===moment(new Date(t.time_of_trip)).month()&&1===moment(new Date(t.time_of_trip)).date()}),["time_of_trip"],["asc"]),i=_.orderBy(_.filter(i,function(t){return 1===moment(new Date(t["Date/Time"])).date()}),["Date/Time"],["asc"]),drawMap(e,s,"#nyc-lyft","red","start_lng","start_lat"),drawMap(e,i,"#nyc-uber","red","Lon","Lat")};d3.queue().defer(d3.json,"https://raw.githubusercontent.com/se2/cis602-02-project/master/data/nyc.geo.json").defer(d3.csv,"https://raw.githubusercontent.com/toddwschneider/nyc-taxi-data/master/data/fhv_bases.csv").defer(d3.csv,"https://raw.githubusercontent.com/fivethirtyeight/uber-tlc-foil-response/master/uber-trip-data/taxi-zone-lookup.csv").defer(d3.csv,"https://raw.githubusercontent.com/fivethirtyeight/uber-tlc-foil-response/master/uber-trip-data/uber-raw-data-sep14.csv").defer(d3.csv,"https://raw.githubusercontent.com/fivethirtyeight/uber-tlc-foil-response/master/other-FHV-data/Lyft_B02510.csv").await(dataViz);